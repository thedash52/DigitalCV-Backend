{"version":3,"sources":["../../src/api/SaveController.js"],"names":["auth","Auth","logger","Logger","getLogger","routes","use","bodyParser","json","get","req","res","status","post","authenticate","data","body","edit","db","saveBasic","basic","then","result","Promise","all","savePhone","phone","saveSocial","social","saveSkill","skill","saveTechnology","technology","saveRepository","repository","saveExperience","experience","saveEducation","education","saveAchievement","achievement","saveInterest","interest","success","catch","err","error"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,IAAI,GAAG,IAAIC,aAAJ,EAAb;;AAEA,IAAMC,MAAM,GAAGC,gBAAOC,SAAP,CAAiB,KAAjB,CAAf;;AACA,IAAMC,MAAM,GAAG,sBAAf;AAEAA,MAAM,CAACC,GAAP,CAAWC,oBAAWC,IAAX,EAAX;AAEAH,MAAM,CAACI,GAAP,CAAW,GAAX,EAAgB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AACnCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB,sBAArB;AACA,CAFD;AAIAH,MAAM,CAACQ,IAAP,CAAY,GAAZ,EAAiB,UAAUH,GAAV,EAAeC,GAAf,EAAoB;AACpCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB,yEAArB;AACA,CAFD;AAIAH,MAAM,CAACQ,IAAP,CAAY,OAAZ,EAAqBb,IAAI,CAACc,YAAL,EAArB,EAA0C,UAAUJ,GAAV,EAAeC,GAAf,EAAoB;AAC1DA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX;AAEA;AAEA,MAAMG,IAAI,GAAGL,GAAG,CAACM,IAAJ,CAASC,IAAtB;;AACAC,wBAAGC,SAAH,CAAaJ,IAAI,CAACK,KAAlB,EAAyBC,IAAzB,CAA8B,UAAAC,MAAM;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAY,CAC5CN,sBAAGO,SAAH,CAAaH,MAAb,EAAqBP,IAAI,CAACW,KAA1B,CAD4C,EAE5CR,sBAAGS,UAAH,CAAcL,MAAd,EAAsBP,IAAI,CAACa,MAA3B,CAF4C,EAG5CV,sBAAGW,SAAH,CAAaP,MAAb,EAAqBP,IAAI,CAACe,KAA1B,CAH4C,EAI5CZ,sBAAGa,cAAH,CAAkBT,MAAlB,EAA0BP,IAAI,CAACiB,UAA/B,CAJ4C,EAK5Cd,sBAAGe,cAAH,CAAkBX,MAAlB,EAA0BP,IAAI,CAACmB,UAA/B,CAL4C,EAM5ChB,sBAAGiB,cAAH,CAAkBb,MAAlB,EAA0BP,IAAI,CAACqB,UAA/B,CAN4C,EAO5ClB,sBAAGmB,aAAH,CAAiBf,MAAjB,EAAyBP,IAAI,CAACuB,SAA9B,CAP4C,EAQ5CpB,sBAAGqB,eAAH,CAAmBjB,MAAnB,EAA2BP,IAAI,CAACyB,WAAhC,CAR4C,EAS5CtB,sBAAGuB,YAAH,CAAgBnB,MAAhB,EAAwBP,IAAI,CAAC2B,QAA7B,CAT4C,CAAZ,CAAJ;AAAA,GAApC,EAUQrB,IAVR,CAUa,YAAM;AACfV,IAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AACjBmC,MAAAA,OAAO,EAAE;AADQ,KAArB;AAGH,GAdD,EAcGC,KAdH,CAcS,UAACC,GAAD,EAAS;AACd3C,IAAAA,MAAM,CAAC4C,KAAP,CAAaD,GAAb;AACAlC,IAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AACjBmC,MAAAA,OAAO,EAAE,KADQ;AAEjBE,MAAAA,GAAG,EAAEA;AAFY,KAArB;AAIH,GApBD;AAqBH,CA3BD;eA6BexC,M","sourceRoot":"start.js","sourcesContent":["import Auth from '../helpers/auth';\r\nimport Logger from '../helpers/logger';\r\nimport { Router } from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport db from '../database/saveDatabase';\r\n\r\nconst auth = new Auth();\r\n\r\nconst logger = Logger.getLogger('api');\r\nconst routes = Router();\r\n\r\nroutes.use(bodyParser.json());\r\n\r\nroutes.get('/', function (req, res) {\r\n\tres.status(200).json('Nothing to see here!');\r\n});\r\n\r\nroutes.post('/', function (req, res) {\r\n\tres.status(200).json('This is all good and all, but what do you want me to do with that data.');\r\n});\r\n\r\nroutes.post('/edit', auth.authenticate(), function (req, res) {\r\n    res.status(501);\r\n\r\n    return;\r\n\r\n    const data = req.body.edit;\r\n    db.saveBasic(data.basic).then(result => Promise.all([\r\n            db.savePhone(result, data.phone),\r\n            db.saveSocial(result, data.social),\r\n            db.saveSkill(result, data.skill),\r\n            db.saveTechnology(result, data.technology),\r\n            db.saveRepository(result, data.repository),\r\n            db.saveExperience(result, data.experience),\r\n            db.saveEducation(result, data.education),\r\n            db.saveAchievement(result, data.achievement),\r\n            db.saveInterest(result, data.interest)\r\n        ])).then(() => {\r\n        res.status(200).json({\r\n            success: true\r\n        });\r\n    }).catch((err) => {\r\n        logger.error(err);\r\n        res.status(500).json({\r\n            success: false,\r\n            err: err\r\n        });\r\n    });\r\n});\r\n\r\nexport default routes;"],"file":"SaveController.js"}