{"version":3,"sources":["../src/migration.js"],"names":["mysql","require","migration","config","path","options","process","env","NODE_ENV","debug","connectionLimit","user","DB_USER","password","DB_PASS","database","DB_DATABASE","host","DB_HOST","databaseDebug","pool","createPool","init","join","__dirname"],"mappings":";;AAAA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,IAAMC,SAAS,GAAGD,OAAO,CAAC,kBAAD,CAAzB;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,iBAAD,CAAtB;;AACA,IAAMG,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AAEA,IAAII,OAAO,GAAG,EAAd;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyC,CAACL,MAAM,CAACM,KAArD,EAA4D;AACxDJ,EAAAA,OAAO,GAAG;AACNK,IAAAA,eAAe,EAAE,GADX;AAENC,IAAAA,IAAI,EAAEL,OAAO,CAACC,GAAR,CAAYK,OAFZ;AAGNC,IAAAA,QAAQ,EAAEP,OAAO,CAACC,GAAR,CAAYO,OAHhB;AAINC,IAAAA,QAAQ,EAAET,OAAO,CAACC,GAAR,CAAYS,WAJhB;AAKNC,IAAAA,IAAI,EAAEX,OAAO,CAACC,GAAR,CAAYW;AALZ,GAAV;AAOH,CARD,MAQO;AACHb,EAAAA,OAAO,GAAGF,MAAM,CAACgB,aAAjB;AACH;;AAED,IAAMC,IAAI,GAAGpB,KAAK,CAACqB,UAAN,CAAiBhB,OAAjB,CAAb;AAEAH,SAAS,CAACoB,IAAV,CAAeF,IAAf,EAAqBhB,IAAI,CAACmB,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAArB","sourceRoot":"start.js","sourcesContent":["const mysql = require('mysql');\r\nconst migration = require('mysql-migrations');\r\nconst config = require('./config/config');\r\nconst path = require('path');\r\n\r\nlet options = {};\r\n\r\nif (process.env.NODE_ENV === 'production' || !config.debug) {\r\n    options = {\r\n        connectionLimit: 100,\r\n        user: process.env.DB_USER,\r\n        password: process.env.DB_PASS,\r\n        database: process.env.DB_DATABASE,\r\n        host: process.env.DB_HOST\r\n    };\r\n} else {\r\n    options = config.databaseDebug;\r\n}\r\n\r\nconst pool = mysql.createPool(options);\r\n\r\nmigration.init(pool, path.join(__dirname, '/migrations'));"],"file":"migration.js"}